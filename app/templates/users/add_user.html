{% extends 'common/page_layout.html' %}

{% block title %}Add User - PNPh Asset Tracker{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center" style="margin:50px">
   <form method="POST" action="/users/add-user" class="w-100">
      <fieldset>
        <legend>Add a User</legend>

        <!-- Bootstrap Grid: 2 columns on larger screens, 1 column on mobile -->
        <div class="row">
          <!-- Full Name -->
          <div class="col-md-6 mb-3">
            <label for="name" class="form-label mt-4">Full Name</label>
            <input type="text" class="form-control" id="name" name="name" placeholder="Enter full name">
          </div>

          <!-- Role -->
          <div class="col-md-6 mb-3">
            <label for="role" class="form-label mt-4">Role</label>
            <select class="form-select" id="role" name="role">
              <option>Staff</option>
              <option>Student</option>
            </select>
          </div>
        </div>

        <div class="row">
          <!-- Position -->
          <div class="col-md-6 mb-3">
            <label for="position" class="form-label mt-4">Position</label>
            <input type="text" class="form-control" id="position" name="position" placeholder="Enter current position">
          </div>

          <!-- Department -->
          <div class="col-md-6 mb-3">
            <label for="department" class="form-label mt-4">Department</label>
            <select class="form-select" id="department" name="department">
              <option>Country Director</option>
              <option>Admin and Finance Dept.</option>
              <option>External Relations Dept.</option>
              <option>IT/Training Dept.</option>
              <option>Selection/Education Dept.</option>
            </select>
          </div>
        </div>

        <div class="row">
          <!-- Date Started -->
          <div class="col-md-6 mb-3">
            <label for="date_started" class="form-label mt-4">Date started</label>
            <input type="date" class="form-control" id="date_started" name="date_started" placeholder="Enter date hired">
          </div>

          <!-- Date Ended -->
          <div class="col-md-4 mb-3">
            <label for="date_ended" class="form-label mt-4">Date Ended</label>
            <input type="date" class="form-control" id="date_ended" name="date_ended" placeholder="0" autocomplete="off" disabled>
          </div>
        </div>

        <button type="submit" class="btn btn-primary mt-4">Add User</button>
      </fieldset>
    </form>
</div>
<script>
        // Get references to the checkbox and date input
    const hasEndedCheckbox = document.getElementById('has_ended');
    const dateEndedInput = document.getElementById('date_ended');

    // Add an event listener to toggle the disabled state of the date input
    hasEndedCheckbox.addEventListener('change', function() {
        if (this.checked) {
            dateEndedInput.removeAttribute('disabled');
        } else {
            dateEndedInput.setAttribute('disabled', 'disabled');
        }
    });
</script>
{% endblock %}
